// Currently the inline progress bar only supports indeterminate loading mode.
// For a proof of concept on how this can include also determinate loading, see:
// https://codepen.io/xumium/pen/LYLZbva?editors=1100
@mixin InlineProgressBar {
    // We ensure semantic usage by only targeting generic elements that set the
    // correct role 
    &[role="progressbar"] { 
        position: relative;
        width: $wikit-InlineProgressBar-track-width;
        height: $wikit-InlineProgressBar-track-height;

        &::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            display: block;
            height: 100%;
            background: $wikit-InlineProgressBar-background-color;
        }

        // Indeterminate progress bars should not set the `aria-valuenow` 
        // attribute
        &:not([aria-valuenow])::before {
            width: 20%;
            border-radius: $wikit-InlineProgressBar-indeterminate-border-radius;
            animation-name: load-indeterminate;
            animation-duration: $wikit-InlineProgressBar-animation-duration;
            animation-timing-function: ease;
            animation-iteration-count: infinite;
            animation-delay: 0s;
        }
    }

    @keyframes load-indeterminate {
        0% { left: 0; }
        50% { left: 80%; }
        100% { left: 0; }
    }
}
